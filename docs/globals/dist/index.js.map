{"version":3,"file":"index.js","sources":["../src/events/auth.ts","../src/events/search.ts","../src/state/auth.ts","../src/state/search.ts","../src/index.ts"],"sourcesContent":["function SignInEvent(user: string) {\n    return new CustomEvent(SignInEvent.EventType, { detail: { user } });\n}\n\nSignInEvent.EventType = \"globals.auth.sign-in\";\n\nfunction SignOutEvent() {\n    return new CustomEvent(SignOutEvent.EventType);\n}\n\nSignOutEvent.EventType = \"globals.auth.sign-out\";\n\nexport { SignInEvent, SignOutEvent };","function SearchTermEnteredEvent(term: string) {\n    return new CustomEvent(\n        SearchTermEnteredEvent.EventType, \n        { detail: { term } });\n}\n\nSearchTermEnteredEvent.EventType = \"globals.search.term-entered\";\n\nexport { SearchTermEnteredEvent };","import * as events from '../events/auth';\n\nlet _isSignedIn = false;\nlet _user: string | null = null;\n\nfunction isSignedIn() {\n    return _isSignedIn;\n}\n\nfunction user() {\n    return _user;\n}\n\nfunction onSignIn(evt: CustomEvent) {\n    if (!evt.detail.user) {\n        return;\n    }\n\n    _isSignedIn = true;\n    _user = evt.detail.user;\n}\n\nfunction onSignOut(evt: CustomEvent) {\n    _isSignedIn = false;\n    _user = null;\n}\n\nwindow.addEventListener(events.SignInEvent.EventType, <any>onSignIn);\nwindow.addEventListener(events.SignOutEvent.EventType, <any>onSignOut);\n\nexport { isSignedIn, user };","import * as events from '../events/search';\n\nlet _lastSearchedTerm: string | null = null;\n\nfunction lastSearchedTerm() {\n    return _lastSearchedTerm;\n}\n\nfunction onSearchTermEntered(evt: CustomEvent<{term: string}>) {\n    _lastSearchedTerm = evt.detail.term;\n}\n\nwindow.addEventListener(events.SearchTermEnteredEvent.EventType, <any>onSearchTermEntered);\n\nexport { lastSearchedTerm };","import * as events from './events';\nimport * as state from './state';\n\nexport default { \n    events, \n    state\n}"],"names":["events.SignInEvent","events.SignOutEvent","events.SearchTermEnteredEvent"],"mappings":";;;;;YAAA,SAAS,WAAW,CAAC,IAAY;gBAC7B,OAAO,IAAI,WAAW,CAAC,WAAW,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,MAAA,EAAE,EAAE,CAAC,CAAC;YACxE,CAAC;YAED,WAAW,CAAC,SAAS,GAAG,sBAAsB,CAAC;YAE/C,SAAS,YAAY;gBACjB,OAAO,IAAI,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YACnD,CAAC;YAED,YAAY,CAAC,SAAS,GAAG,uBAAuB;;;;;;;;YCVhD,SAAS,sBAAsB,CAAC,IAAY;gBACxC,OAAO,IAAI,WAAW,CAClB,sBAAsB,CAAC,SAAS,EAChC,EAAE,MAAM,EAAE,EAAE,IAAI,MAAA,EAAE,EAAE,CAAC,CAAC;YAC9B,CAAC;YAED,sBAAsB,CAAC,SAAS,GAAG,6BAA6B;;;;;;;;;;;;;YCJhE,IAAI,WAAW,GAAG,KAAK,CAAC;YACxB,IAAI,KAAK,GAAkB,IAAI,CAAC;YAEhC,SAAS,UAAU;gBACf,OAAO,WAAW,CAAC;YACvB,CAAC;YAED,SAAS,IAAI;gBACT,OAAO,KAAK,CAAC;YACjB,CAAC;YAED,SAAS,QAAQ,CAAC,GAAgB;gBAC9B,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE;oBAClB,OAAO;iBACV;gBAED,WAAW,GAAG,IAAI,CAAC;gBACnB,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;YAC5B,CAAC;YAED,SAAS,SAAS,CAAC,GAAgB;gBAC/B,WAAW,GAAG,KAAK,CAAC;gBACpB,KAAK,GAAG,IAAI,CAAC;YACjB,CAAC;YAED,MAAM,CAAC,gBAAgB,CAACA,WAAkB,CAAC,SAAS,EAAO,QAAQ,CAAC,CAAC;YACrE,MAAM,CAAC,gBAAgB,CAACC,YAAmB,CAAC,SAAS,EAAO,SAAS,CAAC;;;;;;;;YC1BtE,IAAI,iBAAiB,GAAkB,IAAI,CAAC;YAE5C,SAAS,gBAAgB;gBACrB,OAAO,iBAAiB,CAAC;YAC7B,CAAC;YAED,SAAS,mBAAmB,CAAC,GAAgC;gBACzD,iBAAiB,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;YACxC,CAAC;YAED,MAAM,CAAC,gBAAgB,CAACC,sBAA6B,CAAC,SAAS,EAAO,mBAAmB,CAAC;;;;;;;;;;;;;ACT1F,2CAAe;gBACX,MAAM,QAAA;gBACN,KAAK,OAAA;cACR;;;;;;"}